models:
  - name: dim_customers
    description: This model consolidates customer information with their order and payment history to provide insights into customer behavior and value. It includes details such as the customer's first and last name, the date of their first and most recent orders, the total number of orders they have placed, and their lifetime value based on payments made.
    columns:
      - name: customer_id
        description: A unique identifier for each customer.
        tests:
          - unique
          - not_null
          - dbt_utils.cardinality_equality:
              arguments:
                field: customer_id
                to: ref('stg_jaffle_shop__customers')
      - name: first_name
        description: The first name of the customer.
      - name: last_name
        description: The last name of the customer.
      - name: first_order_date
        description: The date when the customer placed their first order.
      - name: most_recent_order_date
        description: The date when the customer placed their most recent order.
      - name: number_of_orders
        description: The total number of orders placed by the customer.
      - name: lifetime_value
        description: The total monetary value of all payments made by the customer.

